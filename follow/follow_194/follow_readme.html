<!DOCTYPE HTML>
<html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width", initial-scale=1.0">
<style>
body { max-width: 900px; width: 99%; margin-right: 0.5%; margin-left: 0.5%; }
.tab { border: thin black solid; margin-top:0.5em; margin-bottom:0.5em;
       width: 97%; table-layout: fixed; }
.indent { margin-left: 3%; }
td:first-child { width: 17%; word-break: break-word; }
td:last-child { width: 83%; }
.tab td { padding:0.2em; vertical-align: top; }
.tab tr:nth-child(even) { background-color: #eee; }
li { margin-bottom: 5px; }
pre { overflow-x: auto; }
</style>
</head><body>

<h3>Follow</h3>
<p><em>Follow</em> is a program that displays a musical score and shows a cursor in the score that
follows what you play. The program listens to a midi interface to read the notes that you play. When you have no
midi interface you can use the build in keyboard on the screen.
You can also use an audio-pitch recognizer that outputs a midi stream.</p>
<p>You can select a staff that you want to play and the program will play all other staves while following
you on the selected staff. So you hear your self accompanied.</p>
<p>Apart from displaying a cursor in the score, the program also measures the timing of your performance and
makes a timing plot at the end with some statistical information.</p>
<p><em>Follow</em> can also be used in a concert setup, where multiple devices show different parts of the same
score. A master device determines the tempo and all other (slave) devices follow. The master can either use
the play back feature or actually follow a midi instrument played by the director (or solist).
(see the <a href="#server">synchronization feature</a> of <em>Follow</em>)
</p>

<h3>The Timing Bar</h3>
<table class="indent tab">
<a name="bar"></a>
<tr><td>
<img src="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAlCAYAAACzpJKIAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMGSURBVE
iJtddNiFZlFAfw3/u+1mgpBkVOg9FUGjiZ0cciISKZxqJw0a4IJAOpReDeQEgIQlpU1MqgMjctir4Dx7CCog9ioKJPF0VNWtnHRFpWji3OM3Xf673Pvc4w/83wnHOe879zPp+3ox3ew4qMfirpj+WcLGhBdC5W4zL8XWPzFi7H+3Mlux5v4vOMzZ5klyXrtiAbw3iDzV
5c18JXFl0cwpoGu0H8icVzIbsS36HTwvYj3JgzaArjeryG4wXZKrxScXfOodyHjSXZw5gWVVrETfhwtkSLRR4GS/IHRT+VyU5P9ufUOcyV/jX4EgdL8jNECE8tyQ/jXYxiNxZiC5bgN+zI5WxM9E8ZUyKMf1XoinnbhvuwFZMZHvAxbqiQ70xk51forkqOV+GoKKxpfC
BT0cvxB06r0D2aIevhZ7yOfxLZUTHqakt/FG/jSIWuq78VijiGN/CO/4fyTkxQXyC5EbVAhKTuQ8dFnp7Cc4m8Fh18jytq9A+lrz6vRr9JhHlZWVH1dWsS4USNs6Xp3ikVukXiv/oJK9uQzYyo6RqyX9WX/lZ8hee1HF17cEdG/5gokAtL8hHRgytxi1ioWSwSJb88Y/
OIyNlwQdYRC3ZbOp8lSn5p8WI5jFeLMHybIes5sUE3JYL70/kQPsG1ObI2W7mX/s4Qno0duEt/Hsc15G0CGxrIXhA5W53OT+LxCrv1+KzOyaCI85IGslvxu1hBo6Inz6ywWygmUHkVgdtEkpswgh+Ssy9we8Z2r8gn+hP9NNZqXgcDYghPiqr9NGM7JLb3hiJZJ11+QP
59eLJYgXvE6PpveF8sRkyv5tJs0cWPuHTmQJT8Pg1v9VlgOvkdK5M19dds0ffEGxClPDxPZMPiMTRAjJT980Q0g/1Y18NmHMDL80g2gqGOeC8MiUa9SH9FTom3fhsM4IKS7IDYf8sw2cG6AsF2/CLeDXfiRbzUkqyLZ/BEItkuovZN0p9Q6VvwqliAh+V/2lbhWdyLm+
XXFLhEdPpxfH2SRHB34f6usvJf+GCpFLS916wAAAAASUVORK5CYII="/>
</td>
    <td>The metronome symbol flashes red when the metronome is running.
    When you click this symbol a count-in starts counting down after which playback begins.
    When you click this symbol while the metronome is flashing it stops the metronome.
    </td></tr>
<tr><td><em>Performance Bar</em></td>
    <td>The bar displays your timing errors in the constant tempo modes (see <a href="#fmd">follow mode</a>). When
    the life bar mode is selected it displays a health precentage (starting with 100, see further <a href="#life">life bar</a>).
    </td></tr>
<tr><td><em>e:</em> (Error Count)</td>
    <td>When one of the constant tempo modes is selected this field shows the number of faulty notes you played.
    </td></tr>
<tr><td><em>Play</em></td>
    <td>Starts a play back of all voices. The computer also plays the staff that you selected to follow, unless
    you select the <a href="#mute">mute own staff</a> option. <br>
    While playing, the computer also shows its own timing errors in the performance bar, so you can
    review the statictics to see if your CPU is fast enough.
    </td></tr>
<tr><td>&#9673;</td>
    <td>Microphone symbol. Its color is brown when the microphone is on. Dark-grey when the microphone is off. The symbol
    is clickable and toggles the microphone on/off. It is a shortcut for the <a href="#micdlg">use microphone</a> checkbox
    in the microphone dialog.
    </td></tr>
<tr><td><em>Resizing</em></td>
    <td>Dragging (touch-hold-move) downwards in the timing bar area resizes the bar. 
    </td></tr>
</table>

<h3>The on-screen Keyboard</h3>
<table class="indent tab">
<a name="keyb"></a>
<tr><td><em>Touch/Click area</em></td>
<td>The on-screen keyboard (see <a href="#mkeyb">menu</a> to enable) has a sensitve area above the keys,
stretching along the whole keyboard. The height of this area is the same as the green triangles
you see at both ends of the keyboard.<br>
When you <em>click/touch-and-hold</em> in this area it lights up green and you can resize or shift the keyboard.
Dragging upwards enlarges the keys (makes them <em>longer</em>) and dragging downwards makes them <em>shorter</em>.
Dragging sidewards shifts the keyboard to the left or right.
</td></tr>
<tr><td><em>Green triangles</em></td>
<td>A <em>click/touch-and-hold</em> on the right triangle makes the keys <em>broader</em> in repeated steps as long as you hold.
The left triangle does the same but makes the keys <em>smaller</em>.<br>
A normal click/touch in one of the green triangles shifts the keyboard precisely one octave in that direction.
</td></tr>
</table>


<h3>The Menu</h3>
<table class="indent tab">
<a name="menu"></a>
<tr><td><em>Score file</em></td>
    <td>Browse the local file system and select a score file. The file can either contain MusicXML or ABC notation.
    The selected file is opened and the score rendered on the screen.
    </td></tr>
<tr><td><em>Use Dropbox</em></td>
    <td>Change the score file button into the Dropbox Chooser button to browse files in your dropbox.
    </td></tr>
<tr><td><em>Microphone</em></td>
    <td>The <em>Settings</em> button opens the <a href="#micdlg">microphone dialog</a>.
    </td></tr>
<tr><td><em>Output port</em></td>
    <td>The program starts without sound. This selection control can be used to activate the internal synthesizer
    or to select a midi output port. A midi output port is only available when the browser supports midi and
    the computer has a midi interface (connected to a midi instrument or sound module).
    </td></tr>
<tr><td><em>Midi echo</em></td>
    <td>When playing a midi instrument the notes from the instrument are echoed back on the midi ouput port. This
    may not be desirable when the instrument already produces sound from itself. In that case the midi echo can
    be switched off. Notes from the accompaniment are always sent to the output port.
    </td></tr>
<tr><td><a name="fmd"></a><em>Follow mode</em></td>
    <td>The aim this program is to display a cursor in the score that follows what you play on a midi instrument.
    There are several options that determine <em>how</em> your played notes are followed:<ul>
        <li><b>Adaptive tempo</b>. In this mode the tempo is no contraint on your performance. The tempo just
        follows your playing speed. The program only checks if you correctly play the notes selected by the cursor.
        If so, it moves the cursor to the next position in the score.</li>
        <li><b>Constant tempo with statistics</b>. In this mode you have to play exactly on the beats of the metronome.
        The metronome starts automatically when you play a random first note and starts with a count-in. After the
        count-in finishes you have to play the notes selected by the cursor in the tempo of the metronome. Your
        timing accuracy is indicated in the performance bar at the top left of the window. When the average timing error of
        your last 10 notes exceeds 100 millisec. your performance is considered a failure and a dialog is presented
        with some statistics followed by a timing plot. When you reach the end of the score you get the same information
        but your performance is considered successful.</li>
        <li><a name="life"></a><b>Constant tempo with life bar</b> This mode is identical to the previous one, only the performance bar now
        indicates a health percentage. You start with a full bar (100 points) and with every bad timing (&gt; 35 millisecs)
        you loose 5 points. However you gain 5 points with a good timing  (&lt; 35 millisecs).</li>
        <li><b>Adaptive tempo (with timeout)</b> This mode is identical to the first mode. There is no contraint on your
        tempo. However, the tempo you enter in the tempo box is now considered a minimum tempo at which play back will continue.
        You can play faster than this tempo, but not slower. When you play slower (or play the wrong notes or do not play at all)
        the program will continue to move the cursor and play the accompaniment at the minimum tempo. You can catch on at
        any time and start to play faster again.
        </li>
        <li><b>Adaptive tempo (minimum tempo)</b> This mode is identical to the first mode, but the tempo never drops
        below the initial value of the tempo. You can speed up without limit, but you can only slow down until the initial
        tempo is reached.
        </li>
    </ul></td></tr>
<tr><td><a name="cmd"></a><em>Check mode</em></td>
    <td>Notes you play are followed in the score. Which notes you have to play is determined by one of the three 
    <em>check modes</em>:<ul>
        <li><b>Top notes of selected staff</b>: Only the top most notes of the selected staff have to be played. When
        the staff has more voices or layers the top note of each of them must be played. In fact, &apos;top&apos;
        only refers to chords.</li>
        <li><b>All notes of selected staff</b>: You have to play all notes (of all voices) in a staff.</li>
        <li><b>All notes of grand staff</b>: You have to play all notes (of all voices) in the selected grand staff. A grand
        staff is selected by clicking in the topmost staff of the grand staff. The staff below is then added to make a grand
        staff.
        </li>
        <li><b>All notes of all staves</b>: In this mode all staves are taken into account. You have to play all notes
        in all staves of the score.</li>
    </ul></td></tr>
<tr><td><a name="mute"></a><em>Mute own staff</em></td>
    <td>This option mutes the notes of the selected staff during play back. Normally all notes in all staves are played.
    </td></tr>
<tr><td><em>Next note delay</em></td>
    <td>After you play the selected notes the cursor moves to the next time position in the score. When this option is selected
    (default) the cursor does not move immediately, but waits for half the time span between the current note and the next one
    (with the current tempo). This little delay feels more naturaly when you play in tempo. When you do not play in tempo it
    is better to switch this option off. Especially when you play slowly or irregularly.
    </td></tr>
<tr><td><em>Metronome</em></td>
    <td>When this option is enabled the metronome continues ticking after the count-in has finished. Otherwise the metronome
    stops after the count-in.
    </td></tr>
<tr><td><em>Play one note before start</em></td>
    <td>When the count-on is finished the computer starts playing the accompaniment <em>one note before</em> the cursor.
    So you do not start playing immeriately after the count-in, but the accompaniment does, one note before the selection,
    where you have to fall in.
    </td></tr>
<tr><td><em>Show Timing</em></td>
    <td>This button shows a timing plot with statistical information of your performance. It is only available if you play one
    of the constant tempo modes. In the adaptive tempo modes to timing data is stored. It is used to adapt the tempo.
    </td></tr>
<tr><td><a name="mkeyb"></a><em>Keyboard</em></td>
    <td>Shows a keyboard where you can play the required notes. It is useful if you have no midi keyboard available. The keys
    can be moved and scaled by dragging (horizontally and vertially) in a small area just above the keyboard.
    There are also two octave shift buttons, that shift the keys precisely one octave. When you press-and-hold on these buttons,
    the keyboard is resized (scaled) in horizontal direction.
    </td></tr>
<tr><td><em>Transparency</em></td>
    <td>This makes the keyboard transparent and it overlays the score. May be useful for small devices.
    </td></tr>
<tr><td><em>Show notes</em></td>
    <td> With this option enabled you see the notes you must play highlighted on the keyboard with a red background.
    (The notes selected by the cursor are shown as depressed on the keyboard).
    </td></tr>
<tr><td><em>Extract staff</em></td>
    <td>When the <em>Single</em> is selected the current staff will be extracted for exclusive display, while all other staves are hidden.
    The hidden staves still play when needed (in follow mode of the extracted staff or in general play back mode)<br>
    When <em>Grand</em> is selected the current staff becomes the top staff of a grand staff that is subsequently selected for
    exclusive display.
    </td></tr>
<tr><td><em>Two lines</em></td>
    <td>With this option enabled only two lines are shown: the line with the cursor and the next one. This eases
    score reading, as all other lines are not needed. Each line either shows a system or a staff, depending
    on the <em>Extract staff</em> option.
    </td></tr>
<tr><td><a name="save"></a><em>Save Preload</em></td>
    <td>Pops up the save dialog where you can save a preload file. This file contains the score and most of the settings
    you entered either with the menu or with url parameters. 
    </td></tr>
<tr><td><a name="pw"></a><em>Page width</em></td>
    <td>Uses the given width in cm to render the score. It should be larger than 5 and smaller than 50 cm.
    The original page formatting of the score is erased and an optimal layout is computed for the given page width.
    Also the (abbreviated) instrument names are erased from all but the first staff to save space.<br>
    If the real screen/window width is larger than the given number the score will seem enlarged.
    The page width can also be set to a larger value than in the original score, which results in longer lines with
    more bars on a line. <br>
    Entering a number smaller than 5 erases the setting and resets the score to the original page layout.
    </td></tr>
<tr><td><em>Bluetooth LE</em></td>
    <td>Opens a dialog window that shows Bluetooth LE MIDI devices (keyboards, sensors).
    You can <em>pair</em> with one or more of those devices. After paring, the
    received MIDI messages are processed normally by <em>follow</em>. When the <em>Midi echo</em>
    checkbox is on, the Bluetooth MIDI messages are also echoed on the normal MIDI output port.
    </td></tr>
<tr><td><em>Full Screen</em></td>
    <td>Switches the browser to full screen display (if supported).
    </td></tr>
<tr><td><em>Side Scroll</em></td>
    <td>Displays the score as one long (horizontal) system. The cursor stays in the
    middle of the window while the score scrolls horizontally.
    </td></tr>
<tr><td><em>Help</em></td>
    <td>Shows this file.
    </td></tr>
</table>

<h3><a name="micdlg"></a>Microphone dialog</h3>
<table class="indent tab">
<tr><td><em>Use Mic.</em></td>
    <td>Asks permission to use the microphone. When the microphone is working, a pitch detector converts the audio
    signal into notes, which are followed in the score. Only monophone melodies can be followed.
    To get access to the microphone the program uses the WebRTC API which is, at the time of writing, only
    available in Chrome and FireFox on the PC and Android platforms.
    </td></tr>
<tr><td><em>Gain</em></td>
    <td>The gain slider sets the volume level of the microphone. Decibel values of the currently received signal are 
    shown by the organge volume bar (dB). The target sound should be stronger than the level indicated by the
    blue line in the volume bar. This level corresponds to the <em>Min. Level</em> slider (see below). The peaks
    of the current microphone signal are shown in the graph by a <em>grey wave line</em>.
    </td></tr>
<tr><td><em>Sensitivity</em></td>
    <td>The sensitivity slider sets the height of the dashed <em>blue horizontal line</em> in the graph.
    When the <b>green wave line drops below the dashed blue line a note is recognized</b>.
    Higher values of the sensitivity result in more (or earlier) recognition of pitches. Values above 5 are
    not practical, because even without sound notes will be detected (in the background noise).
    The optimal value is between 1 and 4.<br>
    The <em>green wave line</em> represents the Average Squared Mean Difference Function
    (<em>ASMDF</em>) of the microphone signal.
    This function approaches zero when the input signal is periodical and the x-coordinate equals the period.
    The x-coordinate of the recognized period is shown with a small <em>red vertical line</em> in the graph.
    </td></tr>
<tr><td><em>Min. Level</em></td>
    <td>The <em>minimum level</em> is a treshhold for the microphone signal. Only signal levels above this threshold
    are considered for pitch detection. The value should be between -40 dB and 0 dB. The current value of the
    <em>minimum level</em> is shown in the microphone level bar by a vertical blue line.
    </td></tr>
<tr><td><em>Cents bar</em></td>
    <td>The cents bar displays the deviation of the recognized pitch from the closest musical note. Notes are
    supposed to have the twelve-tone equal temperament. Your instrument should be well tuned for the pitch
    detector to produce notes consistent with the score.
    </td></tr>
<tr><td><em>Bass guitar</em></td>
    <td>Normally the lowest note that can be detected is an F#3. When the bass checkbox is marked, the lowest
    possible note becomes an F#2. However, this doubles the internal sample buffer and makes detection four times
    slower. Therefore it should only be used when detection of such low notes is really needed.
    </td></tr>
</table>

<h3>URL parameters</h3>
<a name="uparms"></a>
<p>A link to <em>follow.html</em> can have several URL-parameters, which are explained in the table below. An working 
example of a link with some parameters is:</p>
<a href="http://wim.vree.org/js/follow.html?d:75mnyv0xsmye3mq/gadma_2.xml&syn&tmp=120&keyb&ksh&play">
<pre class="indent" style="margin-top:0px;"><!--
-->http://wim.vree.org/js/follow.html?d:75mnyv0xsmye3mq/gadma_2.xml&amp;syn&amp;tmp=120&amp;keyb&amp;ksh&amp;play</pre>
</a>
<p>It plays a MusicXML file from Dropbox on the internal synthesizer and shows the played notes in the score and on the keyboard.</p>
<table class="indent tab">
<tr><td><em>file_name</em></td>
    <td>The file name has to be a URL poining to a score file with exension .xml or .abc, for instance:
    <pre class="indent">http://some.domain.org/follow.html?path/to/score_file.xml</pre>
    The file can also reside in your dropbox, where it has to be shared publicly. In this case you use the
    dropbox identifier prefixed with d:<br>For example, dropbox tells me that a shared file in my dropbox has
    this link:
    <pre class="indent">https://www.dropbox.com/s/75mnyv0xsmye3mq/gadma_2.xml?dl=0</pre>
    The relevant part of this link is <em>75mnyv0xsmye3mq/gadma_2.xml</em>, which you use as follows:
    <a href="http://wim.vree.org/js/follow.html?d:75mnyv0xsmye3mq/gadma_2.xml">
        <pre class="indent">http://wim.vree.org/js/follow.html?d:75mnyv0xsmye3mq/gadma_2.xml</pre>
    </a>
    Note the link is prefixed with <em>d:</em> Try it out by clicking the link.
    <br>
    The third possibility for the file name is to have a preload file (see <a href="#save">save</a>), for instance:
    <a href="http://wim.vree.org/js/follow.html?d:0q8p1zvfjn9ijw2/pre_ave.js">
        <pre class="indent">http://wim.vree.org/js/follow.html?d:0q8p1zvfjn9ijw2/pre_ave.js</pre>
    </a>
    You do not need any further URL parameters as all settings are included in the preload file.
    </td></tr>
<tr><td><em>stf=</em></td>
    <td>With the <em>stf=staff_number</em> parameter you specify which staff should be played by you. The notes
    in this staff are highlighted during your play. The first staff has number 1.
    </td></tr>
<tr><td><em>extr</em></td>
    <td>Sets the <em>Extract staff</em> option to <em>Single</em>. Can be used in combination with <em>stf=</em> to show only
    a single part from an multi part score.
    </td></tr>
<tr><td><em>extrg</em></td>
    <td>Sets the <em>Extract staff</em> option to <em>Grand</em>. Can be used in combination with <em>stf=</em> to show only
    a single grand staff from an multi part score. The <em>Check mode</em> remains unchanged. If you want all notes in the
    grand staff highlighted you have to add the URL option <em>mod=3</em>.
    </td></tr>
<tr><td><em>2ln</em></td>
    <td>Sets the <em>Two lines</em> option.
    </td></tr>
<tr><td><em>pw=</em></td>
    <td>The <em>pw=xx</em> parameter sets the page width to <em>xx</em> cm. (see <a href="#pw">Page width</a>)
    </td></tr>
<tr><td><em>fmd=</em></td>
    <td>The <em>fmd=follow_mode</em> chooses one of the four follow modes.
    The value of <em>follow_mode</em> is 1, 2, 3, 4 or 5. (<a href="#fmd">see menu</a>)
    </td></tr>
<tr><td><em>mod=</em></td>
    <td>With the <em>mod=check_mode</em> parameter you can choose one of the three check modes.
    The value of <em>check_mode</em> is 1, 2, 3 or 4. (<a href="#cmd">see menu</a>)
    </td></tr>
<tr><td><em>tmp=</em></td>
    <td>The <em>tmp=tempo</em> sets the play back tempo.
    </td></tr>
<tr><td><em>nodel</em></td>
    <td>The <em>Next note delay</em> checkbox is unmarked. After (correctly) playing the highlighted notes the cursor
    jumps immediately to the next notes, without delay. Normally there is a dealy of half the (played) note length.
    </td></tr>
<tr><td><em>nomet</em></td>
    <td>The <em>nomet</em> parameter unmarks the <em>metronome</em> checkbox in the menu, so that the metronome stops
    when the count-in terminates. Normally the metronome continues ticking after the count-in.
    </td></tr>
<tr><td><em>keyb</em></td>
    <td>When the <em>keyb</em> parameter is present the keyboard will be shown.
    </td></tr>
<tr><td><em>ksh</em></td>
    <td>The <em>ksh</em> parameter marks the <em>show notes</em> checkbox, so that notes highlighed by the cursor
    are also highlighted on the keyboard.
    </td></tr>
<tr><td><em>opa=</em></td>
    <td>This parameter sets the opacity of the keyboard. <em>opa</em> should be in the range 1-9,
    where <em>opa=1</em> is opaque and <em>opa=9</em> is maximal transparent.
    </td></tr>
<tr><td><em>syn</em></td>
    <td>The <em>syn</em> parameter selects the internal synthesizer and loads the pre-rendered waveforms.
    </td></tr>
<tr><td><em>play</em></td>
    <td>The <em>play</em> parameter starts playback after the score has been loaded.
    </td></tr>
<tr><td><em>nomenu</em></td>
    <td>Hides the menu.
    </td></tr>
<tr><td><em>nobar</em></td>
    <td>Hides the tempo field and the performance bar.
    </td></tr>
<tr><td><em>nocur</em></td>
    <td>Hides the cursor.
    </td></tr>
<tr><td><em>line=</em></td>
    <td>Sets the position of the dotted line. <em>line=1</em> is at the top and <em>line=100</em> is at the bottom
    of the page.
    </td></tr>
<tr><td><em>ip</em></td>
    <td>When this parameter is present the device tries to connect to a Web Socket server at port 8091. The ip address
    of this server is taken from the host part of the URL. The required socket server and a web server at port 8090
    are both started when you run the program abcSrv.js with nodejs.<br>
    When connecion is successful the menu button becomes green. Positioning of the cursor is now
    syncrhonized with a master device (see parameter <em>ipm</em>).
    </td></tr>
<tr><td><em>ipm</em></td>
    <td>When present this parameter makes the device the master of a group after connecting to a Web Socket server
    at port 8091. When connecion is successful the menu button becomes red. The master sends its cursor
    position (when it changes) to all slaves. The slaves synchronize their cursor movement to the master.
    </td></tr>
<tr><td><em>sctmp</em></td>
    <td>The program reads tempo values from the score (when present).
    This overrides a manually entered tempo value or any tempo changes induced by following the player.
    The tempo input box is greyed out (disabled).
    </td></tr>
</table>

<h3><a name="server"></a>Synchronizing multiple devices</h3>
<p>Multiple devices can follow the same score in precise synchronization. Each device can focus (extract) a different part of
the score. In such a group of devices there is one master who determines the tempo, either by just using the play back feature or
by actually playing on a midi device. The other devices are slaves and just follow the master.
To achieve synchronization <em>Follow</em> uses a special server program called <em>AbcSrv.js</em>.</p>
<p><em>AbcSrv.js</em> is included in the distribution zip file. It is a javascript program
that implements a simple http server and a special Web Socket server. The normal http server runs on port 8090 and the web socket server
on port 8091.
<br> To run <em>abcSrv.js</em> you need to have <a href="http://nodejs.org/"><em>Node</em></a> installed. <em>Node</em> is a javascript
engine with unrestricted access to the computer's (networking) capabilities.
<br>When you have <em>Node</em> installed you can start abcSrv.js in a terminal window (command line prompt) with:
<pre class="indent">
# nodejs abcSrv.js
</pre>
The command for <em>Node</em> (nodejs in the example) may be different on your platform (for instance, just node).
When started <em>abcSrv.js</em> prints the following output in the terminal window:
<pre class="indent">
websocket server listening on port: 8091, address: 192.168.xx.xx
http server listening in port: 8090, adress: 192.168.xx.xx
web server root directory: /path/to/where/abcSrv.js/is/located/
</pre>
</p><p>
Now you can check that the server works by just typing 192.168.xx.xx:8090 in a browser on another device connected to the same (WIFI) network.
It should display a listing of files, one of which is <em>follow.html</em>.
Then you can open <em>follow.html</em> as slave or as master, using:
<pre class="indent">
http://192.168.xx.xx:8090/follow.html?some_preload.js&ip   (for all slave devices)
http://192.168.xx.xx:8090/follow.html?some_preload.js&mstr (for the master device)
</pre>
</p><p>In stead of a preload file, as in the example above, you can also just use a score file, or even no file at all and open
a score file later with the menu button.
</p><p>
When a device succesfully connects to abcSrv.js the menu button becomes green. For the master device the
menu button becomes red. This gives some feedback to indicate that all is workiing well and that henceforth all 
play/pause/jump actions will be issued by the master of the group. The slave devices cannot initiate any actions, they
only follow the master.
</p><p>
You should have all files of the distribution (including abcSrv.js) extracted to one directory, which becomes the server root directory.
All preload files you make or score files you want to use should also be in this directory.
</p>
On a normal (i.e. not jailbroken) iPad, <em>abcSrv.js</em> has been tested using the app <em>Touch Code Pro</em> from iTunes. This app can load
and run <em>abcSrv.js</em>, turning the iPad into a simple http server and websocket server. While <em>Touch Code Pro</em> is running you can
still use the browser to also open <em>Follow</em>, so you do not loose a device.
</body></html>